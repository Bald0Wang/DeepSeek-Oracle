#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” è¿è¡Œä»£ç æäº¤æ ¡éªŒ..."

# å‰ç«¯æ£€æŸ¥
echo "ğŸ“‹ å‰ç«¯ä»£ç æ£€æŸ¥..."
cd frontend
npm run typecheck
if [ $? -ne 0 ]; then
    echo "âŒ å‰ç«¯ TypeScript æ£€æŸ¥å¤±è´¥"
    exit 1
fi

# åç«¯æ£€æŸ¥
echo "ğŸ åç«¯ä»£ç æ£€æŸ¥..."
cd ../scripts
./check_backend.sh
if [ $? -ne 0 ]; then
    echo "âŒ åç«¯ä»£ç æ£€æŸ¥å¤±è´¥"
    exit 1
fi

echo "âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œå‡†å¤‡æäº¤..."